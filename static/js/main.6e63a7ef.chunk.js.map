{"version":3,"sources":["AC/types.js","AC/index.js","components/WeatherBox/index.js","components/Choose/index.js","components/Loader/index.js","components/Error/index.js","components/WeatherContainer/index.js","helpers.js","components/Map.js","components/App.js","reducer/weatherReducer.js","reducer/index.js","middleware/saga/worker/helpers.js","middleware/saga/worker/index.js","middleware/saga/watcher/watchCityWeather.js","store/index.js","serviceWorker.js","index.js","components/Root.js"],"names":["GET_CITY_WEATHER","GET_CITY_WEATHER_SUCCESS","GET_CITY_WEATHER_START","GET_CITY_WEATHER_ERROR","getCityWeather","latitude","longitude","type","payload","id","WeatherBox","_this","this","dayWeather","props","city","resultWeather","map","weather","date","temperature","Math","round","description","react_default","a","createElement","key","className","onClick","onChooseDay","name","country","Component","components_Choose","components_Loader","components_Error","Weather","state","showWeather","chooseDay","index","setState","prevProps","onRenderWeatherContainer","list","loaded","loading","error","weatherBox","resultWeatherArray","oneDayWeatherArray","i","j","push","weatherForCurrentHour","main","temp","onParseWeatherData","WeatherBox_WeatherBox","Object","toConsumableArray","objectSpread","handleClickShowWeather","prevState","connect","MAPBOX_TOKEN","Map","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","resize","onViewportChange","width","window","innerWidth","height","innerHeight","viewport","onTransitionEnd","zoom","isWeatherBoxOpen","mapRef","React","createRef","addEventListener","removeEventListener","esm","assign","ref","mapboxApiAccessToken","components_WeatherContainer","style","position","right","top","showCompass","dist_default","actions","App","components_Map","defaultState","combineReducers","arguments","length","undefined","action","weatherApiRequest","url","fetch","then","response","json","weatherRequest","_action$payload","cityWeather","regenerator_default","wrap","_context","prev","next","put","concat","sent","t0","stop","_marked","watchWeatherRequests","takeEvery","watchCityWeather_marked","sagaMiddleware","createSagaMiddleware","middleware","applyMiddleware","store","createStore","reducer","run","watchCityWeather","Boolean","location","hostname","match","ReactDOM","render","es","children","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6e63a7ef.chunk.js","sourcesContent":["export const GET_CITY_WEATHER = 'GET_CITY_WEATHER';\r\nexport const GET_CITY_WEATHER_SUCCESS = 'GET_CITY_WEATHER_SUCCESS';\r\nexport const GET_CITY_WEATHER_START = 'GET_CITY_WEATHER_START';\r\nexport const GET_CITY_WEATHER_ERROR = 'GET_CITY_WEATHER_ERROR';","import { GET_CITY_WEATHER } from './types.js';\r\n\r\nexport function getCityWeather(latitude, longitude){\r\n    return {\r\n        type: GET_CITY_WEATHER,\r\n        payload: {\r\n            latitude,\r\n            longitude,\r\n            id: 'd76144444bfb6103f09bcc83ac4d7cc8'\r\n        }\r\n    }\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\n\r\nexport default class WeatherBox extends Component {\r\n    static propTypes = {\r\n        dayWeather: PropTypes.array.isRequired,\r\n        onChooseDay: PropTypes.func.isRequired,\r\n        city: PropTypes.object.isRequired\r\n    };\r\n\r\n    render(){\r\n        const { dayWeather } = this.props;\r\n        const { city } = this.props;\r\n\r\n        const resultWeather = dayWeather.map((weather) => {\r\n            const date = weather.date;\r\n            const temperature = Math.round(weather.temperature - 272);\r\n            const description = weather.description;\r\n\r\n            return (<li key={weather.date}>\r\n                <span>{date} : <strong>{temperature}C {description}</strong></span>\r\n            </li>)\r\n        });\r\n\r\n        return (\r\n            <div className='weather-box'>\r\n                <div className='choose-day-button'>\r\n                    <button onClick={() => {this.props.onChooseDay(0)}} className='weather-button choose-day'>24 h</button>\r\n                    <button onClick={() => {this.props.onChooseDay(1)}} className='weather-button choose-day'>48 h</button>\r\n                    <button onClick={() => {this.props.onChooseDay(2)}} className='weather-button choose-day'>72 h</button>\r\n                </div>\r\n                <ul>\r\n                    {resultWeather}\r\n                    <li key={city.name}>\r\n                        <span>\r\n                            city : <strong>{(city.name) ? city.name : 'unknown city'}</strong>\r\n                        </span>\r\n                    </li>\r\n                    <li key={city.country}>\r\n                        <span>\r\n                            country : <strong>{(city.country) ? city.country : 'unknown country'}</strong>\r\n                        </span>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport './index.css';\r\n\r\nexport default props => {\r\n    return (\r\n        <div className='weather-box choose-container'>\r\n            <span>Please, select a city</span>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport './index.css';\r\n\r\nexport default props => {\r\n    return (\r\n        <div className='weather-box loader'>\r\n            <span className='spinner'></span>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport './index.css';\r\n\r\nexport default props => {\r\n    return (\r\n        <div className='weather-box error-container'>\r\n            <span>Oops... Something went wrong! Try to refresh the page or select existing city</span><br/>\r\n        </div>\r\n    )\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport WeatherBox from '../WeatherBox/index.js';\r\nimport Choose from '../Choose/index.js';\r\nimport Loader from '../Loader/index.js';\r\nimport Error from '../Error/index.js';\r\nimport { onParseWeatherData } from \"../../helpers\";\r\nimport PropTypes from 'prop-types';\r\nimport './index.css';\r\n\r\nclass Weather extends Component {\r\n    state = {\r\n        showWeather: false,\r\n        chooseDay: 0\r\n    };\r\n\r\n    static propTypes = {\r\n        weather: PropTypes.object\r\n    };\r\n\r\n    onChooseDay = (index) => {\r\n        this.setState((prevProps) => {\r\n            return {\r\n                chooseDay: index\r\n            }\r\n        })\r\n    };\r\n\r\n    onRenderWeatherContainer = () => {\r\n        const { list } = this.props.weather;\r\n        const { city } = this.props.weather;\r\n        const { loaded } = this.props.weather;\r\n        const { loading } = this.props.weather;\r\n        const { error } = this.props.weather;\r\n\r\n        if(error){\r\n            return <Error />\r\n        }\r\n\r\n        if(!loaded && !loading){\r\n            return <Choose />\r\n        }\r\n\r\n        if(loading){\r\n            return <Loader />\r\n        }\r\n\r\n        if(loaded){\r\n            const index = this.state.chooseDay;\r\n            const weatherBox = onParseWeatherData(list).map((dayWeather, key) => (\r\n                    <li key={key}>\r\n                        <WeatherBox dayWeather={[...dayWeather]}\r\n                                    onChooseDay={this.onChooseDay}\r\n                                    city={{...city}}\r\n                        />\r\n                    </li>\r\n                )\r\n            );\r\n\r\n            return (\r\n                <ul>\r\n                    {weatherBox[index]}\r\n                </ul>\r\n            )\r\n        }\r\n    };\r\n\r\n    handleClickShowWeather = () => {\r\n        this.setState((prevState) => {\r\n            return {\r\n                showWeather: !prevState.showWeather\r\n            }\r\n        })\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <button className='weather-button show-weather'\r\n                        onClick={this.handleClickShowWeather}>W</button>\r\n                <div className='weather-container'>\r\n                    {(this.state.showWeather) ? this.onRenderWeatherContainer() : null}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n        weather: state.weather\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Weather);","export function onParseWeatherData(list){\r\n    let resultWeatherArray = [];\r\n    let oneDayWeatherArray = [];\r\n\r\n    for(let i = 0, j = 0; i < 25; i++, j++){\r\n        if(j === 8) {\r\n            j = 0;\r\n            resultWeatherArray.push(oneDayWeatherArray);\r\n            oneDayWeatherArray = [];\r\n        }\r\n\r\n        let weatherForCurrentHour = {\r\n            date: list[i]['dt_txt'],\r\n            temperature: list[i].main.temp,\r\n            description: list[i].weather[0].description\r\n        };\r\n\r\n        oneDayWeatherArray.push(weatherForCurrentHour);\r\n    }\r\n\r\n    return resultWeatherArray;\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from '../AC/index.js';\r\nimport ReactMapGL, {NavigationControl} from 'react-map-gl';\r\nimport Geocoder from 'react-map-gl-geocoder';\r\nimport Weather from './WeatherContainer/index.js';\r\nimport PropTypes from 'prop-types';\r\nimport \"mapbox-gl/dist/mapbox-gl.css\";\r\n\r\n/** Guys, please, don't use my mapbox token :)\r\n *  https://www.mapbox.com/help/how-access-tokens-work/#rotating-tokens - here You can get info about how get your own token */\r\nconst MAPBOX_TOKEN = 'pk.eyJ1IjoiYWxla3NleXRpbW9zY2hlbmtvIiwiYSI6ImNqbjh3Y2Q1azZzZW4zcHFjeXJsYnZ1MWYifQ.1QKeCXy-l6KVJFb9w4eNKg';\r\n\r\nclass Map extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            viewport: {\r\n                width: 400,\r\n                height: 400,\r\n                latitude: 27.56,\r\n                longitude: \t53.9,\r\n                zoom: 1\r\n            },\r\n            isWeatherBoxOpen: false\r\n        };\r\n        this.mapRef = React.createRef();\r\n    }\r\n\r\n    static propTypes = {\r\n        getCityWeather: PropTypes.func.isRequired\r\n    };\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.resize);\r\n        this.resize();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.resize);\r\n    }\r\n\r\n    resize = () => {\r\n        this.onViewportChange({\r\n            width: window.innerWidth,\r\n            height: window.innerHeight\r\n        });\r\n    };\r\n\r\n    onViewportChange = viewport => {\r\n        this.setState({\r\n            viewport: { ...this.state.viewport, ...viewport }\r\n        });\r\n    };\r\n\r\n    onTransitionEnd = () => {\r\n        const { getCityWeather } = this.props;\r\n\r\n        const cityLatitude = this.state.viewport.latitude;\r\n        const cityLongitude = this.state.viewport.longitude;\r\n\r\n        getCityWeather(cityLatitude, cityLongitude);\r\n    };\r\n\r\n    render() {\r\n        const {viewport} = this.state;\r\n\r\n        return (\r\n            <ReactMapGL\r\n                ref={this.mapRef}\r\n                {...viewport}\r\n                onViewportChange={this.onViewportChange}\r\n                onTransitionEnd={this.onTransitionEnd}\r\n                mapboxApiAccessToken={MAPBOX_TOKEN}\r\n            >\r\n                <Weather />\r\n                <div style={{position: 'absolute', right: 10, top: 60}}>\r\n                    <NavigationControl onViewportChange={this.onViewportChange}\r\n                                       showCompass={false}\r\n                    />\r\n                </div>\r\n                    <Geocoder mapRef={this.mapRef}\r\n                              onViewportChange={this.onViewportChange}\r\n                              mapboxApiAccessToken={MAPBOX_TOKEN}\r\n                    />\r\n            </ReactMapGL>\r\n        );\r\n    }\r\n}\r\n\r\nexport default connect(null, actions)(Map);","import React, { Component } from 'react';\nimport Map from './Map.js';\n\nclass App extends Component {\n\n  render() {\n    return (\n      <Map />\n    );\n  }\n}\n\nexport default App;\n","import { GET_CITY_WEATHER_START, GET_CITY_WEATHER_SUCCESS, GET_CITY_WEATHER_ERROR } from \"../AC/types\";\r\n\r\nconst defaultState = {\r\n    loading: false,\r\n    loaded: false,\r\n    error: false\r\n};\r\n\r\nexport default (state = defaultState, action) => {\r\n    const { type, weather } = action;\r\n\r\n    switch (type){\r\n        case GET_CITY_WEATHER_START:\r\n            return {...state, loading: true, loaded: false};\r\n            break;\r\n        case GET_CITY_WEATHER_SUCCESS:\r\n            return {...state, loading: false, loaded: true, ...weather};\r\n            break;\r\n        case GET_CITY_WEATHER_ERROR:\r\n            return {...state, error: true};\r\n            break;\r\n    }\r\n\r\n    return state;\r\n}","import { combineReducers } from 'redux';\r\nimport weather from './weatherReducer.js';\r\n\r\nexport default combineReducers({\r\n    weather\r\n});","export const weatherApiRequest = (url) => {\r\n    return fetch(url)\r\n        .then(response => response.json())\r\n};","import { call, put } from 'redux-saga/effects';\r\nimport { weatherApiRequest } from './helpers.js';\r\nimport { GET_CITY_WEATHER_SUCCESS, GET_CITY_WEATHER_START, GET_CITY_WEATHER_ERROR } from \"../../../AC/types\";\r\n\r\n\r\nexport function* weatherRequest(action) {\r\n    try {\r\n        const { latitude, longitude, id } = action.payload;\r\n\r\n        yield put({type: GET_CITY_WEATHER_START});\r\n\r\n        const cityWeather = yield call(\r\n            weatherApiRequest,\r\n            `https://api.openweathermap.org/data/2.5/forecast?lat=${latitude}&lon=${longitude}&appid=${id}`\r\n        );\r\n\r\n        yield put({type: GET_CITY_WEATHER_SUCCESS, weather: cityWeather});\r\n    } catch (error) {\r\n        yield put({type: GET_CITY_WEATHER_ERROR});\r\n    }\r\n}\r\n","import { GET_CITY_WEATHER } from \"../../../AC/types\";\r\nimport { takeEvery } from 'redux-saga/effects';\r\nimport { weatherRequest } from '../worker/index.js';\r\n\r\nfunction* watchWeatherRequests(){\r\n    yield takeEvery(GET_CITY_WEATHER, weatherRequest)\r\n}\r\n\r\nexport default watchWeatherRequests;","import { createStore, applyMiddleware } from 'redux';\r\nimport reducer from '../reducer/index.js';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport watchCityWeather from '../middleware/saga/watcher/watchCityWeather.js';\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst middleware = applyMiddleware(sagaMiddleware);\r\nconst store = createStore(reducer, {}, middleware);\r\n\r\nexport default store;\r\n\r\n/** It's just for dev */\r\nwindow.store = store;\r\n\r\nsagaMiddleware.run(watchCityWeather);","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n\n              // Execute callback\n              if (config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport Root from './components/Root.js';\nimport './index.css';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <Root>\n        <App />\n    </Root>,\n    document.getElementById('root')\n);\n\nserviceWorker.unregister();\n","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from '../store/index.js';\r\n\r\nexport default props => {\r\n    return (\r\n        <Provider store={store}>\r\n            {props.children}\r\n        </Provider>\r\n    )\r\n}"],"sourceRoot":""}